PUNBB.fancy_spoiler=(function(){function b(c){return(c.offsetWidth!==0);}function a(c){return function(){var d=c.nextSibling,e=c.firstChild;if(d&&PUNBB.common.hasClass(d,"fancy_spoiler")){if(!b(d)){d.style.display="block";e.innerHTML=e.getAttribute("data-lang-close");}else{d.style.display="none";e.innerHTML=e.getAttribute("data-lang-open");}return false;}return true;};}return{init:function(){var c=PUNBB.common.arrayOfMatched(function(d){return(PUNBB.common.hasClass(d,"fancy_spoiler_switcher"));},document.getElementsByTagName("p"));PUNBB.common.map(function(d){console.log(d);d.onclick=a(d);PUNBB.common.removeClass(d,"visual-hidden");},c);}};}());PUNBB.common.addDOMReadyEvent(PUNBB.fancy_spoiler.init);