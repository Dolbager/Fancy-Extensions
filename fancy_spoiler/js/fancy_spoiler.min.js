if(typeof PUNBB==="undefined"||!PUNBB){var PUNBB={};}PUNBB.fancy_spoiler=(function(){function b(c){return(c.offsetWidth!==0);}function a(c){return function(){var d;d=c.nextSibling;if(d&&PUNBB.common.hasClass(d,"fancy_spoiler")){if(!b(d)){d.style.display="block";c.innerHTML=c.getAttribute("data-lang-close");}else{d.style.display="none";c.innerHTML=c.getAttribute("data-lang-open");}return false;}return true;};}return{init:function(){var c=PUNBB.common.arrayOfMatched(function(d){return(PUNBB.common.hasClass(d,"fancy_spoiler_switcher"));},document.getElementsByTagName("span"));PUNBB.common.map(function(d){d.onclick=a(d);PUNBB.common.removeClass(d,"visual-hidden");},c);}};}());PUNBB.common.addDOMReadyEvent(PUNBB.fancy_spoiler.init);